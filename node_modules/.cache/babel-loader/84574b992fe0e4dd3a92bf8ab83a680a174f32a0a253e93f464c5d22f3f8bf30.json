{"ast":null,"code":"//import { Link } from \"react-router-dom\";\nimport React,{useState}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function LoginPage(){const[inputs,setInputs]=useState({username:'',password:''});const handleChange=e=>{const{name,value}=e.target;setInputs(prevInputs=>({...prevInputs,[name]:value}));};const login=()=>{if(Object.values(inputs).every(input=>input!=='')){axios.post('http://localhost/react-apis/unc-communicator/login-api/',inputs).then(function(response){// Check if response.data[0] is defined and has 'userID'\nif(response.data[0]&&response.data[0]['userID']!==undefined){sessionStorage.setItem('userID',response.data[0]['userID']);// set userID session var\n//alert(sessionStorage.getItem('userID'));\nwindow.location.href='/login/'+sessionStorage.getItem('userID');}else{// error handling\nconsole.error('Invalid or missing user data in the response:',response.data);}}).catch(function(error){console.error('Error during login API request:',error);});}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{style:{height:'90vh',display:'flex',flexDirection:'column',justifyContent:'center',alignItems:'center',background:'linear-gradient(45deg,var(--com-light-blue),var(--com-pink))'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column gap-3 rounded-4\",style:{background:'linear-gradient(180deg,var(--com-purple),var(--com-pink))',padding:'30px',color:'#fff'},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control form-control-sm\",name:\"username\",id:\"username\",value:inputs.username,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control form-control-sm\",name:\"password\",id:\"password\",value:inputs.password,onChange:handleChange}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-between w-100 gap-3\",children:/*#__PURE__*/_jsx(LoginButton,{})})]})})});function LoginButton(){return/*#__PURE__*/_jsx(\"button\",{onClick:login,className:\"btn btn-sm btn-login w-100\",children:\"Login\"});}}","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","LoginPage","inputs","setInputs","username","password","handleChange","e","name","value","target","prevInputs","login","Object","values","every","input","post","then","response","data","undefined","sessionStorage","setItem","window","location","href","getItem","console","error","catch","children","style","height","display","flexDirection","justifyContent","alignItems","background","className","padding","color","htmlFor","type","id","onChange","LoginButton","onClick"],"sources":["C:/React/UNC-Communicator/src/components/LoginPage.js"],"sourcesContent":["//import { Link } from \"react-router-dom\";\r\nimport React,{ useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default function LoginPage(){\r\n    const [inputs, setInputs] = useState({\r\n        username: '',\r\n        password: '',\r\n    });\r\n    \r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setInputs((prevInputs) => ({\r\n          ...prevInputs,\r\n          [name]: value,\r\n        }));\r\n    };\r\n    \r\n    const login = () => {\r\n        if (Object.values(inputs).every((input) => input !== '')) {\r\n          axios.post('http://localhost/react-apis/unc-communicator/login-api/', inputs).then(function (response) {\r\n            // Check if response.data[0] is defined and has 'userID'\r\n            if (response.data[0] && response.data[0]['userID'] !== undefined) {\r\n                sessionStorage.setItem('userID',response.data[0]['userID']); // set userID session var\r\n                //alert(sessionStorage.getItem('userID'));\r\n                window.location.href='/login/' + sessionStorage.getItem('userID');\r\n            } else { // error handling\r\n                console.error('Invalid or missing user data in the response:', response.data);\r\n            }})\r\n            .catch(function (error) {\r\n                console.error('Error during login API request:', error);\r\n            });\r\n        }\r\n    };\r\n\r\n    return(\r\n        <>\r\n        <div style={{height:'90vh', display:'flex', flexDirection:'column', justifyContent:'center', alignItems:'center',background:'linear-gradient(45deg,var(--com-light-blue),var(--com-pink))'}}>\r\n            <div className=\"d-flex flex-column gap-3 rounded-4\" style={{background:'linear-gradient(180deg,var(--com-purple),var(--com-pink))', padding:'30px', color:'#fff'}}>\r\n                <label htmlFor=\"username\">Username</label>\r\n                <input type=\"text\" className=\"form-control form-control-sm\" name=\"username\" id=\"username\" value={inputs.username} onChange={handleChange}/>\r\n                <label htmlFor=\"password\">Password</label>\r\n                <input type=\"text\" className=\"form-control form-control-sm\" name=\"password\" id=\"password\" value={inputs.password} onChange={handleChange}/>\r\n                <div className=\"d-flex justify-content-between w-100 gap-3\">\r\n                    <LoginButton/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </>\r\n    );\r\n    function LoginButton(){\r\n        return(\r\n            <button onClick={login} className=\"btn btn-sm btn-login w-100\">\r\n                Login\r\n            </button>\r\n        );\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}